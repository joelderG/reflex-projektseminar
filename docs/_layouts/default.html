<!DOCTYPE html>
<html lang="en-GB">
  <head>
    {%- include head.html -%}
    <title>{{ page.title }}</title>
  </head>
  <body>

    <header>
        <a href="/reflex/"class="logo-reflex">
            <div class="logo-reflex__img">
                <img src="/reflex/assets/layout/app_icon.png" alt="ReFlex Logo"/>
            </div>
            <div class="logo-reflex__text">
                <img src="/reflex/assets/layout/app_logo-text.png" alt="ReFlex (Title)"/>
            </div>
        </a>
        <div class="header-title">Documentation</div>
    </header>
    <nav class="main-nav">
        {% comment %} render category navigation with current category highlighted and store current category {% endcomment %}
        {% include category.html nav = site.data.navigation.toc base = '/reflex' %}
        {% assign current=currentCategory %}

    </nav>

    {% comment %} only render navigation if there are items to display {% endcomment %}
    {% if currentCategory %}
        <a href="javascript:void(0);" class="nav-icon" onclick="toggleNavigation()" title="Toggle Navigation">
            <i class="fa fa-bars"></i> Navigation
        </a>
        <nav class="content-nav" id="navigation-panel">
            {% comment %} render category navigation {% endcomment %}
            {% include nav.html nav = site.data.navigation.toc base = '/reflex' padding = 0.5 selectedCategory = current %}
            <div class="external-nav">
                <div class="nav-link code">
                    <a href="https://github.com/visualengineers/reflex/">Code</a>
                </div>
                <div class="nav-link report">
                    <a href="/reflex/test/library/report/index.html">Test Coverage: Library</a>
                </div>
                <div class="nav-link report">
                    <a href="/reflex/test/server/report/reflex-tracking-server/index.html">Test Coverage: Server</a>
                </div>
            </div>
        </nav>
    {% endif %}

    <section class="content">
        {{ content }}
    </section>
    <footer>
        <div class="logo-htw">
            <div class="logo-htw__img">
                <img src="/reflex/assets/layout/logo--image.png" alt="HTW Logo"/>
            </div>
            <div class="logo-htw__text">
                <img src="/reflex/assets/layout/logo--text.png" alt="HTW Text"/>
            </div>
        </div>
    </footer>
    </body>
    {%- include mermaid.html -%}

    <script>
        function toggleNavigation() {
            var x = document.getElementById("navigation-panel");
            if (x.className === "content-nav") {
                x.className += " expanded";
            } else {
                x.className = "content-nav";
            }
        }
    </script>
</html>
